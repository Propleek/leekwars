include('_NEW_WORKINPROGRESS');

// représentation schematique d'un tour une fois l'ia fini
 
debugW("MON ID:"+_SELF);
// on réfresh toutes les données de toutes les globals qui doivent être refresh à tous les tours
reachableCells = getReachableCells([getCell():0], getMP(), []);
updateEnnemiesWithMessage();
for(var enemy in getAliveEnemies()){
	getEnemyDamageMap(enemy);
}

maps_danger = getFinalDamageMapByLeek();
//colorMap();

debug('END : '+ getOperations());
//pause();

// on recréé la map des actions
startOp();
setMapActions();
stopOp("setMapActions");
debug("nbActions:"+count(map_actions));
//pause();

var bestMove;
bestMove = getBestMove();
playBestMove(bestMove);

debug('bestMove : '+bestMove);
//pause();
/*
var CellToGoTo = getBestSafeCell(getCell(), getMP(), 'balanced');
debug(CellToGoTo);
pause();
moveTowardCell(CellToGoTo);
*/
debug(getOperations());
